#!/usr/bin/env ruby
require "rubygems"
require "bundler"
require "yaml"

require "brpm_auto"

params = {}
params["log_file"] = "/tmp/brpm_install.log"
params["also_log_to_console"] = "true"
params["unit_test"] = "true" if ENV["UNIT_TEST"] == "1"
BrpmAuto.setup(params)

if ARGV.size < 1
  BrpmAuto.log "Missing arguments."
  BrpmAuto.log "Usage: brpm_install <module name> [<module version>]"
end

module_name = ARGV[0]
module_version = ARGV[1] # optional

brpm_installer = BrpmInstaller.new
brpm_installer.install_module(module_name, module_version)
